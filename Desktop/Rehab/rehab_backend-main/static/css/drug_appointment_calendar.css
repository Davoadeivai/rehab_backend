/* متغیرهای CSS برای مدیریت رنگ‌ها و مقادیر ثابت */
:root {
  --primary-color: #4e73df;
  --success-color: #28a745;
  --danger-color: #dc3545;
  --warning-color: #ffc107;
  --background-color: #fff;
  --shadow-color: rgba(0, 0, 0, 0.08);
  --text-color: #2c3e50;
  --border-radius: 12px;
  --modal-shadow: rgba(0, 0, 0, 0.12);
  --padding-base: 1rem;
  --font-size-base: 1rem;
  --font-size-large: 1.5rem;
  --font-size-small: 1.1rem;
}

/* استایل کلی تقویم */
#calendar {
  background: var(--background-color);
  border-radius: var(--border-radius);
  box-shadow: 0 0 24px var(--shadow-color);
  padding: var(--padding-base);
  margin-bottom: calc(var(--padding-base) * 2);
  direction: ltr; /* FullCalendar نیاز به LTR دارد */
  font-family: 'Vazirmatn', sans-serif; /* فونت مناسب فارسی */
}

/* انیمیشن لودینگ */
.spinner {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1000;
}

/* عنوان نوار ابزار تقویم */
.fc-toolbar-title {
  font-size: var(--font-size-large);
  font-weight: 700;
  color: var(--text-color);
  text-align: center;
}

/* دکمه‌های تقویم */
.fc-button {
  border-radius: calc(var(--border-radius) * 1.67) !important;
  font-family: inherit;
  font-size: var(--font-size-base);
  padding: 0.4rem 1.2rem;
  transition: background-color 0.2s ease, transform 0.1s ease;
}

.fc-button:hover {
  transform: translateY(-1px);
}

/* دکمه‌های فیلتر */
.fc-filterScheduled-button,
.fc-filterCompleted-button,
.fc-filterCancelled-button,
.fc-filterNoShow-button {
  background-color: var(--primary-color);
  color: var(--background-color);
  margin-left: 0.5rem;
}

.fc-filterScheduled-button.active { background-color: var(--primary-color); }
.fc-filterCompleted-button.active { background-color: var(--success-color); }
.fc-filterCancelled-button.active { background-color: var(--danger-color); }
.fc-filterNoShow-button.active { background-color: var(--warning-color); }

/* رنگ رویدادها */
.fc-event {
  background-color: var(--primary-color) !important;
  border: none !important;
  color: var(--background-color) !important;
  font-size: var(--font-size-base);
  cursor: pointer;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
}

/* استایل مودال‌ها */
.modal .modal-content {
  border-radius: var(--border-radius);
  box-shadow: 0 2px 24px var(--modal-shadow);
  direction: rtl; /* برای فرم‌های فارسی */
}

/* استایل فرم‌ها در مودال */
.modal-body {
  padding: var(--padding-base);
}

.form-label {
  font-weight: 500;
  color: var(--text-color);
}

.form-control,
.form-select {
  border-radius: 8px;
  font-size: var(--font-size-base);
}

.form-control:invalid,
.form-select:invalid {
  border-color: var(--danger-color);
}

/* استایل select2 */
.select2-container--default .select2-selection--single {
  border-radius: 8px;
  height: 38px;
  border: 1px solid #ced4da;
}

.select2-container--default .select2-selection--single .select2-selection__rendered {
  line-height: 38px;
}

/* استایل persianDatepicker */
.persian-datepicker {
  direction: rtl;
}

/* استایل توست‌ها */
.toast {
  border-radius: 8px;
  font-size: var(--font-size-base);
}

.text-bg-success {
  background-color: var(--success-color) !important;
}

.text-bg-danger {
  background-color: var(--danger-color) !important;
}

/* استایل اطلاعات بیمار */
#patientInfo {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 0.75rem;
  font-size: var(--font-size-base);
  line-height: 1.6;
}

/* دکمه‌های فرم */
.btn-primary {
  background-color: var(--primary-color);
  border-color: var(--primary-color);
  transition: background-color 0.2s ease;
}

.btn-primary:hover {
  background-color: darken(var(--primary-color), 10%);
}

.btn-danger {
  background-color: var(--danger-color);
  border-color: var(--danger-color);
  transition: background-color 0.2s ease;
}

.btn-danger:hover {
  background-color: darken(var(--danger-color), 10%);
}

/* واکنش‌گرایی */
@media (max-width: 768px) {
  #calendar {
    padding: calc(var(--padding-base) / 2);
  }

  .fc-toolbar-title {
    font-size: var(--font-size-small);
  }

  .fc-button {
    font-size: 0.9rem;
    padding: 0.3rem 0.8rem;
  }

  .modal-dialog {
    margin: 0.5rem;
  }
}

@media (max-width: 576px) {
  #calendar {
    font-size: 0.85rem;
  }

  .fc-event {
    font-size: 0.8rem;
    padding: 0.1rem 0.3rem;
  }

  .form-control,
  .form-select {
    font-size: 0.9rem;
  }

  .modal-body {
    padding: 0.75rem;
  }
}

/* اطمینان از خوانایی برای دسترسی‌پذیری */
:root {
  --contrast-ratio: 4.5; /* حداقل کنتراست برای دسترسی‌پذیری */
}

.fc-event,
.btn,
.form-label {
  color-contrast: var(--text-color) against var(--background-color) >= var(--contrast-ratio);
}